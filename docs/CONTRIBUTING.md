# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨å¯¹ MomentConversion çš„è´¡çŒ®ï¼æœ¬æŒ‡å—è¯´æ˜å¦‚ä½•å‚ä¸é¡¹ç›®å¼€å‘ã€‚

## ç›®å½•

1. [è¡Œä¸ºå®ˆåˆ™](#è¡Œä¸ºå®ˆåˆ™)
2. [è´¡çŒ®æ–¹å¼](#è´¡çŒ®æ–¹å¼)
3. [å¼€å‘å·¥ä½œæµ](#å¼€å‘å·¥ä½œæµ)
4. [ä»£ç æäº¤è§„èŒƒ](#ä»£ç æäº¤è§„èŒƒ)
5. [æµ‹è¯•è¦æ±‚](#æµ‹è¯•è¦æ±‚)
6. [ä»£ç å®¡æŸ¥](#ä»£ç å®¡æŸ¥)

---

## è¡Œä¸ºå®ˆåˆ™

### æˆ‘ä»¬çš„æ‰¿è¯º

- åˆ›å»ºå‹å¥½å’ŒåŒ…å®¹çš„ç¤¾åŒº
- å°Šé‡æ‰€æœ‰äººçš„æƒ³æ³•å’Œç»éªŒ
- æ¥å—å»ºè®¾æ€§çš„æ‰¹è¯„å’Œæ”¹è¿›å»ºè®®
- å…³æ³¨å¯¹ç¤¾åŒºæœ€æœ‰åˆ©çš„äº‹æƒ…

### æˆ‘ä»¬çš„æ ‡å‡†

**ä¸å¯æ¥å—çš„è¡Œä¸ºï¼š**
- ä½¿ç”¨å¸¦æœ‰æ€§æš—ç¤ºçš„è¯­è¨€æˆ–å›¾åƒ
- äººèº«æ”»å‡»æˆ–è´¬ä½æ€§è¯„è®º
- éªšæ‰°æˆ–è·Ÿè¸ªè¡Œä¸º
- å‘å¸ƒä»–äººçš„ç§äººä¿¡æ¯
- å…¶ä»–ä¸ä¸“ä¸šçš„è¡Œä¸º

**ä¸¾æŠ¥**ï¼šè¯·é€šè¿‡ç”µå­é‚®ä»¶ least106@163.com æŠ¥å‘Šé—®é¢˜ã€‚

---

## è´¡çŒ®æ–¹å¼

### æ–¹å¼ 1ï¼šæŠ¥å‘Š Bug

æäº¤ Issue æ—¶è¯·åŒ…å«ï¼š

1. **ç®€æ˜çš„æ ‡é¢˜**
   - âŒ "æŸå¤„æœ‰é—®é¢˜"
   - âœ… "[BUG] CLI åœ¨è§£æè´Ÿæ•°æ—¶å´©æºƒ"

2. **è¯¦ç»†çš„å¤ç°æ­¥éª¤**
   ```
   1. è¿è¡Œ python cli.py run -c config.json --force -100 0 0 --moment 0 0 0
   2. è§‚å¯Ÿæ§åˆ¶å°è¾“å‡º
   3. é”™è¯¯å‡ºç°
   ```

3. **é¢„æœŸè¡Œä¸º** vs **å®é™…è¡Œä¸º**
   - é¢„æœŸï¼šè®¡ç®—å®Œæˆå¹¶è¾“å‡ºç»“æœ
   - å®é™…ï¼šæŠ›å‡º ValueError å¼‚å¸¸

4. **ç¯å¢ƒä¿¡æ¯**
   - Python ç‰ˆæœ¬ï¼š3.8.20
   - OSï¼šWindows 11
   - ä¾èµ–ç‰ˆæœ¬ï¼š`pip freeze`

5. **é”™è¯¯å †æ ˆè·Ÿè¸ª**
   ```
   Traceback (most recent call last):
     File "cli.py", line 100, in run
       ...
   ValueError: ...
   ```

### æ–¹å¼ 2ï¼šæå‡ºåŠŸèƒ½å»ºè®®

æäº¤ Feature Request æ—¶è¯·åŒ…å«ï¼š

1. **æ¸…æ™°çš„åŠŸèƒ½æè¿°**
   - åŠŸèƒ½åšä»€ä¹ˆ
   - è§£å†³çš„é—®é¢˜
   - å…¸å‹çš„ä½¿ç”¨åœºæ™¯

2. **å¯èƒ½çš„å®ç°æ–¹æ¡ˆ**
   - æ‚¨çš„æƒ³æ³•å¦‚ä½•è§£å†³é—®é¢˜
   - å¯èƒ½çš„æƒè¡¡

3. **é¢å¤–ä¸Šä¸‹æ–‡**
   - ç›¸å…³æ–‡ä»¶æˆ–æ¨¡å—
   - å‚è€ƒå®ç°

### æ–¹å¼ 3ï¼šæäº¤ä»£ç 

#### å°çš„ Bug ä¿®å¤

é€‚ç”¨äºï¼šæ”¹åŠ¨ â‰¤ 50 è¡Œï¼Œæ²¡æœ‰æ–°æµ‹è¯•

```bash
# 1. åˆ›å»ºåˆ†æ”¯
git checkout -b fix/cli-negative-numbers

# 2. ä¿®æ”¹ä»£ç 
# 3. æµ‹è¯•æ”¹åŠ¨
pytest tests/test_cli.py

# 4. æäº¤
git commit -m "[ä¿®å¤] ä¿®å¤ CLI è§£æè´Ÿæ•°çš„é”™è¯¯"

# 5. æ¨é€å¹¶åˆ›å»º PR
git push origin fix/cli-negative-numbers
```

#### ä¸­ç­‰åŠŸèƒ½ï¼ˆæ”¹åŠ¨ 50-200 è¡Œï¼‰

é€‚ç”¨äºï¼šæ–°åŠŸèƒ½ã€é‡æ„ã€éœ€è¦æ–°æµ‹è¯•

```bash
# 1. åˆ›å»ºåˆ†æ”¯
git checkout -b feature/temperature-compensation

# 2. ä¿®æ”¹ä»£ç 
# 3. æ·»åŠ æµ‹è¯•
# 4. æµ‹è¯•é€šè¿‡
pytest tests/

# 5. ä»£ç æ£€æŸ¥
pylint src/
black src/

# 6. æäº¤å’Œæ¨é€
git commit -m "[åŠŸèƒ½] æ·»åŠ æ¸©åº¦è¡¥å¿åŠŸèƒ½"
git push origin feature/temperature-compensation
```

#### å¤§çš„é‡æ„ï¼ˆæ”¹åŠ¨ > 200 è¡Œï¼‰

1. å…ˆåˆ›å»º Issue è®¨è®ºè®¾è®¡
2. è·å¾—ç»´æŠ¤è€…åŒæ„
3. åˆ†é˜¶æ®µæäº¤å¤šä¸ª PR
4. æ¯ä¸ª PR éƒ½åº”è¯¥æ˜¯å¯å·¥ä½œçš„ç‹¬ç«‹æ”¹åŠ¨

---

## å¼€å‘å·¥ä½œæµ

### ç¬¬ä¸€æ­¥ï¼šFork å’Œå…‹éš†

```bash
# 1. åœ¨ GitHub ä¸Š Fork ä»“åº“
# 2. å…‹éš†åˆ°æœ¬åœ°
git clone https://github.com/YOUR_USERNAME/MomentConversion.git
cd MomentConversion

# 3. æ·»åŠ ä¸Šæ¸¸ä»“åº“
git remote add upstream https://github.com/least106/MomentConversion.git
```

### ç¬¬äºŒæ­¥ï¼šåˆ›å»ºç‰¹æ€§åˆ†æ”¯

```bash
# æ›´æ–°ä¸»åˆ†æ”¯
git fetch upstream
git checkout main
git merge upstream/main

# åˆ›å»ºç‰¹æ€§åˆ†æ”¯
git checkout -b fix/issue-123
```

### ç¬¬ä¸‰æ­¥ï¼šå¼€å‘å’Œæµ‹è¯•

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
conda activate MomentConversion

# ä¿®æ”¹ä»£ç 
# ...

# è¿è¡Œæµ‹è¯•
pytest tests/ -v

# æ£€æŸ¥ä»£ç è´¨é‡
black src/ gui/
isort src/ gui/
pylint src/
```

### ç¬¬å››æ­¥ï¼šæäº¤ä»£ç 

```bash
# æŸ¥çœ‹æ”¹åŠ¨
git status
git diff

# æš‚å­˜æ”¹åŠ¨
git add src/physics.py tests/test_physics.py

# æäº¤ï¼ˆä¸­æ–‡æäº¤æ¶ˆæ¯ï¼‰
git commit -m "[åŠŸèƒ½] æ·»åŠ æ¸©åº¦è¡¥å¿è®¡ç®—

- åœ¨ AeroCalculator ä¸­æ·»åŠ  adjust_for_temperature æ–¹æ³•
- æ ¹æ®æ ‡å‡†å¤§æ°”æ¨¡å‹è°ƒæ•´ç©ºæ°”å¯†åº¦
- æ·»åŠ å¯¹åº”çš„å•å…ƒæµ‹è¯•"
```

**æäº¤æ¶ˆæ¯æ ¼å¼ï¼š**

```
[æ ‡ç­¾] ç®€çŸ­æè¿°

è¯¦ç»†è¯´æ˜ï¼ˆå¯é€‰ï¼‰
- æ”¹åŠ¨ç‚¹ 1
- æ”¹åŠ¨ç‚¹ 2
```

**æ ‡ç­¾é€‰é¡¹ï¼š**
- `[åŠŸèƒ½]` - æ–°åŠŸèƒ½
- `[ä¿®å¤]` - Bug ä¿®å¤
- `[ä¼˜åŒ–]` - æ€§èƒ½ä¼˜åŒ–
- `[é‡æ„]` - ä»£ç é‡æ„
- `[æ–‡æ¡£]` - æ–‡æ¡£æ”¹è¿›
- `[æµ‹è¯•]` - æµ‹è¯•ç›¸å…³
- `[é…ç½®]` - é…ç½®æ–‡ä»¶

### ç¬¬äº”æ­¥ï¼šæ¨é€å’Œ PR

```bash
# æ¨é€åˆ° Fork ä»“åº“
git push origin fix/issue-123

# åœ¨ GitHub ä¸Šåˆ›å»º Pull Request
# 1. è¿›å…¥æ‚¨çš„ Fork ä»“åº“
# 2. ç‚¹å‡» "Compare & pull request"
# 3. å¡«å†™ PR æè¿°
```

**PR æ¨¡æ¿ï¼š**

```markdown
## å…³è” Issue
ä¿®å¤ #123

## æ”¹åŠ¨è¯´æ˜
- æ”¹åŠ¨ç‚¹ 1
- æ”¹åŠ¨ç‚¹ 2
- æ”¹åŠ¨ç‚¹ 3

## æµ‹è¯•æ¸…å•
- [x] æœ¬åœ°æµ‹è¯•é€šè¿‡
- [x] æ·»åŠ äº†æ–°æµ‹è¯•
- [x] ä»£ç æ ¼å¼æ£€æŸ¥é€šè¿‡
- [x] æ— æ–° warnings

## ç›¸å…³æˆªå›¾ï¼ˆå¦‚æœæœ‰ï¼‰
[æˆªå›¾]

## å…¶ä»–ä¿¡æ¯
[ä»»ä½•å…¶ä»–ç›¸å…³ä¿¡æ¯]
```

---

## ä»£ç æäº¤è§„èŒƒ

### æäº¤æ£€æŸ¥æ¸…å•

æ¨é€å‰è¯·ç¡®ä¿ï¼š

#### ä»£ç è´¨é‡
- [ ] ä»£ç éµå¾ª PEP 8 æ ‡å‡†
- [ ] å˜é‡å’Œå‡½æ•°åæœ‰æ„ä¹‰
- [ ] å¤æ‚é€»è¾‘æœ‰æ³¨é‡Š
- [ ] æ²¡æœ‰è°ƒè¯•ä»£ç æˆ–æ‰“å°è¯­å¥

#### åŠŸèƒ½å®Œæ•´æ€§
- [ ] å®ç°äº†æ‰€æœ‰è®¾è®¡çš„åŠŸèƒ½
- [ ] æ²¡æœ‰é—ç•™çš„ TODO æˆ– FIXME
- [ ] å‘åå…¼å®¹æ€§è‰¯å¥½
- [ ] é”™è¯¯å¤„ç†å®Œå–„

#### æµ‹è¯•è¦†ç›–
- [ ] æ·»åŠ äº†æ–°çš„å•å…ƒæµ‹è¯•
- [ ] æµ‹è¯•è¦†ç›–ç‡ä¸ä½äº 80%
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡ (`pytest tests/`)
- [ ] è¾¹ç•Œæƒ…å†µå·²æµ‹è¯•

#### æ–‡æ¡£æ›´æ–°
- [ ] ä»£ç æ³¨é‡Šå®Œæ•´
- [ ] å¦‚éœ€è¦ï¼Œæ›´æ–°äº†æ–‡æ¡£
- [ ] æ›´æ–°äº† CHANGELOGï¼ˆå¦‚æœ‰ï¼‰
- [ ] API æ”¹åŠ¨å·²åœ¨ API.md ä¸­æ›´æ–°

#### ä»£ç æ£€æŸ¥
```bash
# å¿…é¡»é€šè¿‡ä»¥ä¸‹æ£€æŸ¥
black --check src/
isort --check-only src/
pylint src/ --disable=all --enable=E,W  # åªæ£€æŸ¥é”™è¯¯å’Œè­¦å‘Š
```

### ä¸èƒ½åŒ…å«çš„å†…å®¹

- âŒ æ•æ„Ÿä¿¡æ¯ï¼ˆå¯†ç ã€å¯†é’¥ã€API ä»¤ç‰Œï¼‰
- âŒ è°ƒè¯•ä»£ç æˆ–æ³¨é‡Šæ‰çš„ä»£ç å—
- âŒ å¤§å‹äºŒè¿›åˆ¶æ–‡ä»¶
- âŒ ä¸ªäººé…ç½®æ–‡ä»¶
- âŒ ç”Ÿæˆçš„æ–‡ä»¶ï¼ˆ*.pyc, __pycache__/ï¼‰

---

## æµ‹è¯•è¦æ±‚

### å•å…ƒæµ‹è¯•

```python
# tests/test_my_feature.py

import pytest
from src.my_module import my_function

class TestMyFeature:
    @pytest.fixture
    def setup(self):
        """æµ‹è¯•å‰å‡†å¤‡"""
        return {"data": [1, 2, 3]}
    
    def test_happy_path(self, setup):
        """æ­£å¸¸æƒ…å†µæµ‹è¯•"""
        result = my_function(setup["data"])
        assert result == expected_value
    
    def test_edge_case_empty(self):
        """è¾¹ç•Œæƒ…å†µï¼šç©ºè¾“å…¥"""
        result = my_function([])
        assert result == []
    
    def test_edge_case_large(self):
        """è¾¹ç•Œæƒ…å†µï¼šå¤§è¾“å…¥"""
        large_input = list(range(100000))
        result = my_function(large_input)
        assert len(result) == 100000
    
    def test_error_case_invalid_input(self):
        """é”™è¯¯æƒ…å†µï¼šæ— æ•ˆè¾“å…¥"""
        with pytest.raises(ValueError):
            my_function("invalid")
```

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest tests/

# è¿è¡Œç‰¹å®šæ–‡ä»¶
pytest tests/test_my_feature.py -v

# è¿è¡Œç‰¹å®šå‡½æ•°
pytest tests/test_my_feature.py::TestMyFeature::test_happy_path -v

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest tests/ --cov=src --cov-report=html
# æ‰“å¼€ htmlcov/index.html æŸ¥çœ‹æŠ¥å‘Š
```

### æµ‹è¯•è¦†ç›–ç‡è¦æ±‚

- **æ€»ä½“ç›®æ ‡**ï¼šâ‰¥ 80%
- **å…³é”®æ¨¡å—**ï¼ˆphysics.py, data_loader.pyï¼‰ï¼šâ‰¥ 95%
- **UI æ¨¡å—**ï¼šâ‰¥ 50%ï¼ˆè€ƒè™‘åˆ° UI æµ‹è¯•çš„éš¾åº¦ï¼‰

---

## ä»£ç å®¡æŸ¥

### å®¡æŸ¥å‘¨æœŸ

- **å°æ”¹åŠ¨**ï¼ˆ< 50 è¡Œï¼‰ï¼š1-2 å¤©
- **ä¸­ç­‰æ”¹åŠ¨**ï¼ˆ50-200 è¡Œï¼‰ï¼š2-3 å¤©
- **å¤§æ”¹åŠ¨**ï¼ˆ> 200 è¡Œï¼‰ï¼š3-7 å¤©

### å®¡æŸ¥æ ‡å‡†

ç»´æŠ¤è€…ä¼šæ£€æŸ¥ï¼š

1. **åŠŸèƒ½æ­£ç¡®æ€§**
   - å®ç°æ˜¯å¦æ»¡è¶³éœ€æ±‚
   - é€»è¾‘æ˜¯å¦æ­£ç¡®
   - æ˜¯å¦æœ‰ Bug

2. **ä»£ç è´¨é‡**
   - æ˜¯å¦éµå¾ªé¡¹ç›®é£æ ¼
   - å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§
   - æ€§èƒ½è€ƒè™‘

3. **æµ‹è¯•å……åˆ†æ€§**
   - æµ‹è¯•è¦†ç›–ç‡
   - è¾¹ç•Œæƒ…å†µå¤„ç†
   - é”™è¯¯æƒ…å†µæµ‹è¯•

4. **æ–‡æ¡£å®Œæ•´æ€§**
   - ä»£ç æ³¨é‡Š
   - API æ–‡æ¡£
   - ç”¨æˆ·æ–‡æ¡£ï¼ˆå¦‚éœ€ï¼‰

5. **å‘åå…¼å®¹æ€§**
   - ç ´åæ€§æ”¹åŠ¨æ˜¯å¦å¿…è¦
   - å¼ƒç”¨ç­–ç•¥

### å¤„ç†å®¡æŸ¥æ„è§

1. é˜…è¯»è¯„è®ºï¼Œç†è§£å»ºè®®
2. è¿›è¡Œæ”¹åŠ¨
3. æ¨é€æ–°çš„æäº¤
4. åœ¨è¯„è®ºä¸‹å›å¤ï¼ˆå¦‚éœ€è¯´æ˜ï¼‰
5. ä¸éœ€è¦é‡æ–°åˆ›å»º PR

```bash
# æ ¹æ®å®¡æŸ¥æ„è§ä¿®æ”¹
git add .
git commit -m "[ä¿®å¤] æ ¹æ®å®¡æŸ¥æ„è§è°ƒæ•´ä»£ç 

- ä¿®æ”¹æ³¨é‡Šä¸ºæ›´æ¸…æ™°çš„è¡¨è¿°
- é‡æ„å¤æ‚çš„å‡½æ•°
- æ·»åŠ è¾¹ç•Œæƒ…å†µæµ‹è¯•"

git push origin fix/issue-123
```

---

## å¼€å‘è€…æŒ‡å¼•

### ç¬¬ä¸€æ¬¡è´¡çŒ®ï¼Ÿ

1. æŸ¥çœ‹ [å¿«é€Ÿå¼€å§‹æŒ‡å—](../docs/QUICKSTART.md)
2. æŸ¥çœ‹ [å¼€å‘è€…æŒ‡å—](../docs/DEVELOPER_GUIDE.md)
3. ä»æ ‡è®°ä¸º "good first issue" çš„ Issue å¼€å§‹
4. åœ¨ Issue ä¸­è¯„è®ºè¡¨ç¤ºæ‚¨æƒ³è¦å¤„ç†

### éœ€è¦å¸®åŠ©ï¼Ÿ

- ğŸ“– æŸ¥çœ‹ [æ–‡æ¡£](../docs/)
- ğŸ’¬ åœ¨ Issue ä¸­æé—®
- ğŸ“§ é‚®ä»¶è”ç³»ï¼šleast106@163.com

---

## è®¸å¯è¯

æ‚¨çš„è´¡çŒ®å°†åœ¨ MIT License ä¸‹å‘å¸ƒã€‚

---

## è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…çš„æ”¯æŒï¼ğŸ‰
